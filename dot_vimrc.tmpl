" vi: ft=vim
set nocompatible
set autoread
autocmd! bufwritepost vimrc source ~/.imrc
"autocmd! bufwritepost gvimrc source ~/.gvimrc
packloadall
set backupdir=~/.vim/backup
set directory=~/.vim/backupf
set encoding=utf-8
set number
set relativenumber
set modifiable
"set wrap
set textwidth=80
set colorcolumn=80
set formatoptions=tcqrn1
set showmatch
"set cursorline
set errorbells
set visualbell
set belloff=esc
set diffopt+=iwhite
set whichwrap=bs<>[]
set showbreak=>\ \ \ 
set nostartofline
set hidden
set hlsearch
set smartcase
set incsearch
set ignorecase
set gdefault
set expandtab softtabstop=4 shiftwidth=4
set copyindent
set smarttab
set autoindent
set smartindent
set tabstop=4
set title
set showcmd
set ruler
set ttyfast
set undolevels=1000
set backspace=indent,eol,start
set laststatus=2
set showmode
set showcmd
set wildignorecase
set wildmenu
set wildmode=list:longest,full
set spelllang=en,fr
set spellsuggest=10
set formatoptions-=t formatoptions-=o formatoptions+=crqjnl1
set listchars=tab:›\ ,nbsp:␣,trail:•,precedes:«,extends:»
""""set listchars=tab:›\ ,space:·,nbsp:␣,trail:•,eol:¬,precedes:«,extends:»


{{- if eq .computerType "personal" }} 
set clipboard=unnamedplus
xnoremap "+y y:call system("wl-copy", @")<cr>
nnoremap "+p :let @"=substitute(system("wl-paste --no-newline"), '<C-v><C-m>', '', 'g')<cr>p
nnoremap "*p :let @"=substitute(system("wl-paste --no-newline --primary"), '<C-v><C-m>', '', 'g')<cr>p
{{- end }}

" Mimic Emacs Line Editing in Insert Mode Only
inoremap <C-A> <Home>
inoremap <C-B> <Left>
inoremap <C-E> <End>
inoremap <C-F> <Right>
" â is <Alt-B>
inoremap â <C-Left>
" æ is <Alt-F>
inoremap æ <C-Right>
inoremap <C-K> <Esc>lDa
inoremap <C-U> <Esc>d0xi
inoremap <C-Y> <Esc>Pa
inoremap <C-X><C-S> <Esc>:w<CR>a
inoremap <A-x> <Esc>:
inoremap <A-f> <Esc>lwi
inoremap <A-b> <Esc>bi
inoremap <A-S-f> <Esc>lWi
inoremap <A-S-b> <Esc>Bi

set ofu=syntaxcomplete#Complete
syntax enable
colorscheme modus_operandi

set gcr=n:blinkon0
set guioptions-=m

filetype plugin indent on
au BufNewFile,BufRead *.json set ft=json syntax=javascript
